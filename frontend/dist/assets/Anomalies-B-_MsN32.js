import{Y as x,r as l,at as v,j as e,ae as r,Z as f,ag as p,aj as j,au as N,av as b}from"./index-By3V3s7V.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=x("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=x("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function k(){const{t:s}=j(),[o,n]=l.useState([]),[d,m]=l.useState(!0),[a,i]=l.useState("all");l.useEffect(()=>{v({limit:100}).then(t=>n(t.data)).catch(()=>n([])).finally(()=>m(!1))},[]);const c=o.filter(t=>a==="all"?!0:a==="suspicious"?t.threat_level==="Medium":t.threat_level==="High"),g={High:"–û–ø–∞—Å–Ω—ã–π",Medium:"–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π",Low:"–ù–∏–∑–∫–∏–π"},h={High:"text-vg-danger",Medium:"text-vg-warning",Low:"text-vg-muted"},u=({level:t})=>t==="High"?e.jsx(N,{className:"w-5 h-5"}):t==="Medium"?e.jsx(y,{className:"w-5 h-5"}):e.jsx(b,{className:"w-5 h-5"});return d?e.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:e.jsx("p",{className:"text-vg-muted",children:s("common.loading")})}):e.jsxs("div",{className:"space-y-8 max-w-4xl",children:[e.jsx(r,{children:e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(f,{className:"w-7 h-7 text-vg-accent"}),s("anomalies.title")]})}),e.jsx(r,{children:e.jsx("p",{className:"text-vg-muted",children:"–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –≤—Ö–æ–¥—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤—Å—ë –ª–∏ —ç—Ç–æ –≤—ã"})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>i("all"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors "+(a==="all"?"bg-vg-accent/20 text-vg-accent":"bg-vg-surface text-vg-muted hover:text-vg-text"),children:[e.jsx(w,{className:"w-4 h-4"}),s("anomalies.filter_all")]}),e.jsx("button",{onClick:()=>i("suspicious"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors "+(a==="suspicious"?"bg-vg-warning/20 text-vg-warning":"bg-vg-surface text-vg-muted hover:text-vg-text"),children:s("anomalies.filter_suspicious")}),e.jsx("button",{onClick:()=>i("danger"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors "+(a==="danger"?"bg-vg-danger/20 text-vg-danger":"bg-vg-surface text-vg-muted hover:text-vg-text"),children:s("anomalies.filter_danger")})]})}),e.jsx(r,{children:e.jsx(p,{className:"overflow-hidden p-0",children:c.length===0?e.jsx("div",{className:"p-12 text-center text-vg-muted",children:"–ù–µ—Ç —Å–æ–±—ã—Ç–∏–π"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left p-4 text-sm text-vg-muted",children:s("anomalies.time")}),e.jsx("th",{className:"text-left p-4 text-sm text-vg-muted",children:s("anomalies.event")}),e.jsx("th",{className:"text-left p-4 text-sm text-vg-muted",children:s("anomalies.status")})]})}),e.jsx("tbody",{children:c.map(t=>e.jsxs("tr",{className:"border-b border-white/5 hover:bg-vg-surface/30",children:[e.jsx("td",{className:"p-4 text-sm",children:new Date(t.created_at).toLocaleString("ru")}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"font-medium",children:t.action_type}),e.jsx("p",{className:"text-sm text-vg-muted",children:t.description||"‚Äî"}),t.geo_location&&e.jsxs("p",{className:"text-xs text-vg-muted",children:["üìç ",t.geo_location]})]}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:"flex items-center gap-2 font-medium "+h[t.threat_level],children:[e.jsx(u,{level:t.threat_level}),g[t.threat_level]??t.threat_level]})})]},t.id))})]})})})})]})}export{k as default};
